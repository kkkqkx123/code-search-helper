{"cells":[{"code":"#include <coroutine>\r\n#include <iostream>\r\n\r\n// 简化的协程返回类型\r\nstruct Task {\r\n    struct promise_type {\r\n        Task get_return_object() {\r\n            return Task{std::coroutine_handle<promise_type>::from_promise(*this)};\r\n        }\r\n        std::suspend_never initial_suspend() { return {}; }\r\n        std::suspend_never final_suspend() noexcept { return {}; }\r\n        void return_void() {}\r\n        void unhandled_exception() {}\r\n    };\r\n    \r\n    std::coroutine_handle<promise_type> h;\r\n    Task(std::coroutine_handle<promise_type> handle) : h(handle) {}\r\n    ~Task() { if (h) h.destroy(); }\r\n};\r\n\r\nTask coroutineFunction() {\r\n    std::cout << \"Coroutine started\" << std::endl;\r\n    co_return;\r\n}\r\n\r\nint main() {\r\n    auto task = coroutineFunction();\r\n    return 0;\r\n}","language":"cpp","kind":"code"},{"code":"(function_definition\r\n declarator: (function_declarator\r\n    declarator: (identifier) @coroutine.function)\r\n  return_type: (type_identifier) @coroutine.return.type)\r\n  (#match? @coroutine.return.type \"^(task|generator|lazy)$\") @concurrency.relationship.coroutine","language":"scm","kind":"code"}]}