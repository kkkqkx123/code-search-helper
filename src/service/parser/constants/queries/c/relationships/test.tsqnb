{"cells":[{"code":"#include <stdio.h>\r\n\r\nvoid process_data(int data, void (*handler)(int), void (*callback)(const char*));\r\n\r\nint main() {\r\n    int user_id = 1001;\r\n    const char* msg = \"task done\";\r\n    \r\n    // 匹配规则：函数名是 callback/handler/invoke，参数含标识符\r\n    handler(user_id);\r\n    callback(msg);\r\n    invoke(user_id, msg);\r\n    \r\n    // 不匹配：函数名不符合规则\r\n    process_data(123, handler, callback);\r\n    // 不匹配：参数是字面量（非标识符）\r\n    callback(\"direct string\");\r\n    \r\n    return 0;\r\n}","language":"cpp","kind":"code"},{"code":"[\r\n  (if_statement\r\n    condition: (_) @source.condition\r\n    consequence: (statement) @target.if.block) @control.flow.if\r\n  (if_statement\r\n    condition: (_) @source.condition\r\n    consequence: (statement) @target.if.block\r\n    alternative: (else_clause\r\n      (statement) @target.else.block)) @control.flow.if.else\r\n  (if_statement\r\n    condition: (_) @source.outer.condition\r\n    consequence: (compound_statement\r\n      (if_statement\r\n        condition: (_) @source.inner.condition\r\n        consequence: (statement) @target.inner.block))) @control.flow.nested.if\r\n  (if_statement\r\n    condition: (_) @source.first.condition\r\n    consequence: (statement) @target.first.block\r\n    alternative: (else_clause\r\n      (if_statement\r\n        condition: (_) @source.second.condition\r\n        consequence: (statement) @target.second.block))) @control.flow.else.if\r\n] @control.flow.if.statement\r\n\r\n; switch语句控制流\r\n(switch_statement\r\n  condition: (_) @source.switch.variable\r\n  body: (compound_statement) @target.switch.block) @control.flow.switch\r\n\r\n; switch case控制流\r\n(case_statement\r\n  value: (_)? @source.case.value\r\n  (statement)? @target.case.block) @control.flow.switch.case\r\n\r\n; switch default控制流（处理default关键字）\r\n(case_statement\r\n  value: (_)? @source.case.value\r\n  (statement)? @target.default.block) @control.flow.switch.default\r\n\r\n; while循环控制流\r\n(while_statement\r\n  condition: (_) @source.while.condition\r\n  body: (statement) @target.while.block) @control.flow.while\r\n\r\n; do-while循环控制流\r\n(do_statement\r\n  body: (statement) @source.do.block\r\n  condition: (_) @target.while.condition) @control.flow.do.while\r\n\r\n; for循环控制流\r\n(for_statement\r\n  initializer: (_)? @source.for.init\r\n  condition: (_) @source.for.condition\r\n  update: (_)? @source.for.update\r\n  body: (_) @target.for.block) @control.flow.for\r\n\r\n; 嵌套循环控制流\r\n(for_statement\r\n  body: (compound_statement\r\n    (for_statement\r\n      condition: (_) @source.inner.condition\r\n      body: (statement) @target.inner.block))) @control.flow.nested.loop\r\n\r\n; 循环控制语句\r\n[\r\n  (break_statement) @control.flow.loop.break\r\n  (continue_statement) @control.flow.loop.continue\r\n] @control.flow.loop.control\r\n\r\n; goto语句控制流\r\n(goto_statement\r\n  (statement_identifier) @target.label) @control.flow.goto\r\n\r\n; 标签语句控制流\r\n(labeled_statement\r\n  label: (statement_identifier) @source.label\r\n  (statement) @target.labeled.statement) @control.flow.label\r\n\r\n; return语句控制流\r\n(return_statement\r\n  (_)? @source.return.variable) @control.flow.return\r\n\r\n; 函数调用控制流\r\n[\r\n  (expression_statement\r\n    (call_expression\r\n      function: (identifier) @target.function\r\n      arguments: (argument_list\r\n        (_)* @source.parameter))) @control.flow.function.call\r\n  (call_expression\r\n    function: (identifier) @target.recursive.function\r\n    arguments: (argument_list\r\n      (_)* @source.parameter)) @control.flow.recursive.call\r\n] @control.flow.function.invocation\r\n\r\n; 条件表达式控制流\r\n(conditional_expression\r\n  condition: (_)? @source.condition\r\n  consequence: (_)? @source.consequence\r\n  alternative: (_)? @source.alternative) @control.flow.conditional.expression\r\n\r\n; 逻辑运算符控制流\r\n(binary_expression\r\n  left: (_)? @source.left.operand\r\n  operator: [\"&&\" \"||\"]\r\n  right: (_)? @source.right.operand) @control.flow.logical.operator\r\n\r\n; 逗号表达式控制流\r\n(comma_expression\r\n  left: (_)? @source.left.expression\r\n  right: (_)? @source.right.expression) @control.flow.comma.expression\r\n\r\n; 函数定义控制流\r\n(function_definition\r\n  declarator: (function_declarator\r\n    declarator: (identifier) @source.function.name)\r\n  body: (compound_statement) @target.function.body) @control.flow.function.definition\r\n\r\n; 函数指针调用控制流\r\n(call_expression\r\n  function: (_) @source.function.pointer\r\n  arguments: (argument_list\r\n    (_)* @source.parameter)) @control.flow.function.pointer.call\r\n\r\n; 短路求值与控制流\r\n[\r\n  (binary_expression\r\n    left: (_)? @source.left.operand\r\n    operator: \"&&\"\r\n    right: (call_expression\r\n      function: (identifier) @target.short.circuit.function)) @control.flow.short.circuit.and\r\n  (binary_expression\r\n    left: (_)? @source.left.operand\r\n    operator: \"||\"\r\n    right: (call_expression\r\n      function: (identifier) @target.short.circuit.function)) @control.flow.short.circuit.or\r\n] @control.flow.short.circuit\r\n\r\n; 函数声明控制流\r\n(declaration\r\n  (function_declarator\r\n    declarator: (identifier) @source.function.name)) @control.flow.function.declaration\r\n\r\n; 递归函数调用控制流\r\n(call_expression\r\n  function: (identifier) @target.recursive.function\r\n  arguments: (argument_list\r\n    (_)* @source.parameter)) @control.flow.recursive.call","language":"scm","kind":"code"}]}