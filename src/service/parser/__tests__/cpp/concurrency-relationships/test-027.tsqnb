{"cells":[{"code":"#include <thread>\r\n#include <iostream>\r\n\r\nstruct Counter {\r\n    int value;\r\n};\r\n\r\nvoid incrementCounter(Counter* counter) {\r\n    // 这是一个潜在的竞态条件\r\n    counter->value = counter->value + 1;\r\n}\r\n\r\nint main() {\r\n    Counter counter{0};\r\n    \r\n    std::thread t1(incrementCounter, &counter);\r\n    std::thread t2(incrementCounter, &counter);\r\n    \r\n    t1.join();\r\n    t2.join();\r\n    \r\n    std::cout << \"Final counter value: \" << counter.value << std::endl;\r\n    \r\n    return 0;\r\n}","language":"cpp","kind":"code"},{"code":"(assignment_expression\r\n  left: (field_expression\r\n    (identifier) @shared.variable\r\n    (field_identifier) @shared.field)\r\n  right: (binary_expression\r\n    left: (field_expression\r\n      (identifier) @shared.variable\r\n      (field_identifier) @shared.field)\r\n    operator: (identifier) @operator\r\n    right: (identifier) @increment.value)) @concurrency.relationship.race.condition","language":"scm","kind":"code"}]}