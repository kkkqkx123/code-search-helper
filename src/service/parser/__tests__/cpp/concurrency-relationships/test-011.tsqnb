{"cells":[{"code":"#include <atomic>\r\n#include <iostream>\r\n\r\nstd::atomic<int> value(0);\r\n\r\nvoid compareExchangeExample() {\r\n    int expected = 0;\r\n    int desired = 42;\r\n    \r\n    if (value.compare_exchange(expected, desired)) {\r\n        std::cout << \"Exchange successful\" << std::endl;\r\n    } else {\r\n        std::cout << \"Exchange failed, current value: \" << expected << std::endl;\r\n    }\r\n}\r\n\r\nint main() {\r\n    compareExchangeExample();\r\n    return 0;\r\n}","language":"cpp","kind":"code"},{"code":"(call_expression\r\n function: (field_expression\r\n    (identifier) @atomic.variable\r\n    (field_identifier) @atomic.method)\r\n  arguments: (argument_list\r\n    (identifier) @expected.value\r\n    (identifier) @desired.value))\r\n  (#match? @atomic.method \"compare_exchange\") @concurrency.relationship.atomic.compare_exchange","language":"scm","kind":"code"}]}