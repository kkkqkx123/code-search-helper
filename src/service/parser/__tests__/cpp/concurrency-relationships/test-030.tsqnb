{"cells":[{"code":"#include <shared_mutex>\r\n#include <iostream>\r\n\r\nclass ReadWriteLock {\r\nprivate:\r\n    std::shared_mutex rwMutex;\r\n    \r\npublic:\r\n    void readLock() {\r\n        rwMutex.lock_shared();\r\n        std::cout << \"Read lock acquired\" << std::endl;\r\n    }\r\n    \r\n    void readUnlock() {\r\n        rwMutex.unlock_shared();\r\n        std::cout << \"Read lock released\" << std::endl;\r\n    }\r\n    \r\n    void writeLock() {\r\n        rwMutex.lock();\r\n        std::cout << \"Write lock acquired\" << std::endl;\r\n    }\r\n    \r\n    void writeUnlock() {\r\n        rwMutex.unlock();\r\n        std::cout << \"Write lock released\" << std::endl;\r\n    }\r\n};\r\n\r\nint main() {\r\n    ReadWriteLock rwLock;\r\n    \r\n    rwLock.readLock();\r\n    rwLock.readUnlock();\r\n    \r\n    rwLock.writeLock();\r\n    rwLock.writeUnlock();\r\n    \r\n    return 0;\r\n}","language":"cpp","kind":"code"},{"code":"(class_specifier\r\n  name: (type_identifier) @read.write.lock.class\r\n  body: (field_declaration_list\r\n    (function_definition\r\n      declarator: (function_declarator\r\n        declarator: (field_identifier) @read.lock.method))\r\n    (function_definition\r\n      declarator: (function_declarator\r\n        declarator: (field_identifier) @write.lock.method)))) @concurrency.relationship.read.write.lock","language":"scm","kind":"code"}]}