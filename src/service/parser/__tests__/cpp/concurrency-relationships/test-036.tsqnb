{"cells":[{"code":"#include <coroutine>\r\n#include <iostream>\r\n\r\nstruct Generator {\r\n    struct promise_type {\r\n        int current_value;\r\n        \r\n        Generator get_return_object() {\r\n            return Generator{std::coroutine_handle<promise_type>::from_promise(*this)};\r\n        }\r\n        std::suspend_always initial_suspend() { return {}; }\r\n        std::suspend_always final_suspend() noexcept { return {}; }\r\n        void return_void() {}\r\n        std::suspend_always yield_value(int value) {\r\n            current_value = value;\r\n            return {};\r\n        }\r\n        void unhandled_exception() {}\r\n    };\r\n    \r\n    std::coroutine_handle<promise_type> h;\r\n    Generator(std::coroutine_handle<promise_type> handle) : h(handle) {}\r\n    ~Generator() { if (h) h.destroy(); }\r\n};\r\n\r\nGenerator numberGenerator() {\r\n    co_yield 1;\r\n    co_yield 2;\r\n    co_yield 3;\r\n}\r\n\r\nint main() {\r\n    auto gen = numberGenerator();\r\n    return 0;\r\n}","language":"cpp","kind":"code"},{"code":"(yield_statement\r\n  (identifier) @yielded.value) @concurrency.relationship.coroutine.yield","language":"scm","kind":"code"}]}