{"cells":[{"code":"#include <semaphore>\r\n#include <thread>\r\n#include <iostream>\r\n\r\nstd::counting_semaphore<1> sem(0);\r\n\r\nvoid waitForSemaphore() {\r\n    sem.acquire();\r\n    std::cout << \"Resource accessed\" << std::endl;\r\n}\r\n\r\nvoid releaseSemaphore() {\r\n    sem.release();\r\n    std::cout << \"Resource released\" << std::endl;\r\n}\r\n\r\nint main() {\r\n    std::thread t1(waitForSemaphore);\r\n    std::thread t2(releaseSemaphore);\r\n    \r\n    t1.join();\r\n    t2.join();\r\n    \r\n    return 0;\r\n}","language":"cpp","kind":"code"},{"code":"(call_expression\r\n  function: (field_expression\r\n    (identifier) @semaphore.object\r\n    (field_identifier) @semaphore.method)\r\n  arguments: (argument_list))@concurrency.relationship.semaphore.release\r\n  (#match? @semaphore.method \"release\") ","language":"scm","kind":"code"}]}