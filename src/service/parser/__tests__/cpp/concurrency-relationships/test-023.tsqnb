{"cells":[{"code":"#include <future>\r\n#include <iostream>\r\n#include <thread>\r\n\r\nvoid setValueTask(std::promise<int> prom) {\r\n    std::cout << \"Setting promise value\" << std::endl;\r\n    prom.set_value(300);\r\n}\r\n\r\nint main() {\r\n    std::promise<int> prom;\r\n    std::future<int> fut = prom.get_future();\r\n    \r\n    std::thread t(setValueTask, std::move(prom));\r\n    \r\n    std::cout << \"Waiting for promise value\" << std::endl;\r\n    int value = fut.get();\r\n    std::cout << \"Promise value: \" << value << std::endl;\r\n    \r\n    t.join();\r\n    return 0;\r\n}","language":"cpp","kind":"code"},{"code":"(call_expression\r\n function: (field_expression\r\n    (identifier) @promise.object\r\n    (field_identifier) @promise.method)\r\n  arguments: (argument_list\r\n    (identifier) @promise.value))@concurrency.relationship.promise.set_value\r\n  (#match? @promise.method \"set_value\") ","language":"scm","kind":"code"}]}