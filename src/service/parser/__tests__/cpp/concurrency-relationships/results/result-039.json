{
  "testId": "concurrency-relationships-039",
  "request": {
    "language": "cpp",
    "code": "// 注意：这是一个假设性的示例，因为C++事务内存扩展尚未标准化\r\n#include <iostream>\r\n#include <transaction>\r\n\r\nint sharedData = 0;\r\n\r\nvoid transactionalUpdate() {\r\n    try {\r\n        atomic {\r\n            sharedData += 10;\r\n            if (sharedData > 100) {\r\n                atomic_cancel; // 取消事务\r\n            }\r\n        }\r\n    } catch (const std::exception& e) {\r\n        std::cout << \"Transaction failed: \" << e.what() << std::endl;\r\n    }\r\n}\r\n\r\nint main() {\r\n    transactionalUpdate();\r\n    std::cout << \"Final sharedData: \" << sharedData << std::endl;\r\n    return 0;\r\n}",
    "queries": [
      "(call_expression\n function: (field_expression\n    (identifier) @future.object\n    (field_identifier) @future.method))\n  (#match? @future.method \"then\") @concurrency.relationship.task.dependency"
    ]
  },
  "response": {
    "success": true,
    "data": [],
    "errors": [],
    "timestamp": "2025-11-21T08:47:11.060Z"
  },
  "timestamp": "2025-11-21T08:47:11.061Z"
}