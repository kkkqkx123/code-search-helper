{"cells":[{"code":"#include <barrier>\r\n#include <thread>\r\n#include <iostream>\r\n\r\nstd::barrier syncPoint(3);\r\n\r\nvoid synchronizedTask(int id) {\r\n    std::cout << \"Thread \" << id << \" reached barrier\" << std::endl;\r\n    syncPoint.arrive_and_wait();\r\n    std::cout << \"Thread \" << id << \" passed barrier\" << std::endl;\r\n}\r\n\r\nint main() {\r\n    std::thread t1(synchronizedTask, 1);\r\n    std::thread t2(synchronizedTask, 2);\r\n    std::thread t3(synchronizedTask, 3);\r\n    \r\n    t1.join();\r\n    t2.join();\r\n    t3.join();\r\n    \r\n    return 0;\r\n}","language":"cpp","kind":"code"},{"code":"(call_expression\r\n  function: (field_expression\r\n    (identifier) @barrier.object\r\n    (field_identifier) @barrier.method)\r\n  arguments: (argument_list))\r\n  (#match? @barrier.method \"arrive_and_wait\") @concurrency.relationship.barrier.sync","language":"scm","kind":"code"}]}