{"cells":[{"code":"#include <latch>\r\n#include <thread>\r\n#include <iostream>\r\n\r\nstd::latch completionLatch(3);\r\n\r\nvoid workerTask(int id) {\r\n    std::cout << \"Worker \" << id << \" completed task\" << std::endl;\r\n    completionLatch.count_down();\r\n}\r\n\r\nvoid waitForCompletion() {\r\n    completionLatch.wait();\r\n    std::cout << \"All workers completed\" << std::endl;\r\n}\r\n\r\nint main() {\r\n    std::thread t1(workerTask, 1);\r\n    std::thread t2(workerTask, 2);\r\n    std::thread t3(workerTask, 3);\r\n    std::thread t4(waitForCompletion);\r\n    \r\n    t1.join();\r\n    t2.join();\r\n    t3.join();\r\n    t4.join();\r\n    \r\n    return 0;\r\n}","language":"cpp","kind":"code"},{"code":"(call_expression\r\n  function: (field_expression\r\n    (identifier) @latch.object\r\n    (field_identifier) @latch.method)\r\n arguments: (argument_list))\r\n  (#match? @latch.method \"wait\") @concurrency.relationship.latch.wait","language":"scm","kind":"code"}]}