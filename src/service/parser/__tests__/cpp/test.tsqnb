{"cells":[{"code":"const x = 1;","language":"cpp","kind":"code"},{"code":"; 统一的类型声明查询 - 使用交替模式\r\n[\r\n  (class_specifier\r\n    name: (type_identifier) @type.name\r\n    body: (field_declaration_list) @type.body) @definition.class\r\n  (struct_specifier\r\n    name: (type_identifier) @type.name\r\n    body: (field_declaration_list) @type.body) @definition.struct\r\n  (union_specifier\r\n    name: (type_identifier) @type.name\r\n    body: (field_declaration_list) @type.body) @definition.union\r\n] @definition.type\r\n\r\n; 模板类型查询 - 使用锚点和谓词\r\n(template_declaration\r\n  parameters: (template_parameter_list)\r\n  [\r\n    (class_specifier\r\n      name: (type_identifier) @template.class.name\r\n      body: (field_declaration_list) @template.class.body)\r\n    (struct_specifier\r\n      name: (type_identifier) @template.struct.name\r\n      body: (field_declaration_list) @template.struct.body)\r\n  ]) @definition.template.type\r\n\r\n; 带继承的类查询 - 使用锚点和谓词\r\n(class_specifier\r\n  name: (type_identifier) @class.name\r\n  (base_class_clause\r\n    (type_identifier) @base.class)\r\n  body: (field_declaration_list) @class.body) @definition.class.with_inheritance\r\n\r\n; 访问说明符查询 - 简化模式\r\n(access_specifier) @definition.access.specifier\r\n\r\n; 构造函数和析构函数查询 - 使用交替模式\r\n[\r\n  (function_definition\r\n    declarator: (function_declarator\r\n      declarator: (identifier) @constructor.name)\r\n    body: (compound_statement) @constructor.body)\r\n  (function_definition\r\n    declarator: (function_declarator\r\n      declarator: (destructor_name) @destructor.name)\r\n    body: (compound_statement) @destructor.body)\r\n] @definition.constructor_or_destructor\r\n\r\n; 构造函数初始化列表查询 - 使用锚点确保精确匹配\r\n(field_initializer\r\n  (field_identifier) @member.name\r\n  (argument_list (_) @member.value)) @definition.member_initializer\r\n\r\n; 成员初始化列表查询 - 使用量词操作符\r\n(member_initializer\r\n  name: (field_identifier) @member.name\r\n  value: (_) @member.value)+ @definition.member_initializer\r\n\r\n; 友元声明查询 - 使用交替模式\r\n[\r\n  (friend_declaration\r\n    (declaration\r\n      declarator: (function_declarator\r\n        declarator: (identifier) @friend.function))) @definition.friend.function\r\n  (friend_declaration\r\n    (type_identifier) @friend.class) @definition.friend.class\r\n] @definition.friend\r\n\r\n; 成员字段查询 - 使用锚点和量词操作符\r\n(field_declaration\r\n  type: (_) @field.type\r\n  declarator: (field_identifier) @field.name)* @definition.field\r\n\r\n; 成员方法查询 - 使用锚点和谓词过滤\r\n(function_definition\r\n  declarator: (function_declarator\r\n    declarator: (field_identifier) @method.name)\r\n  body: (compound_statement) @method.body) @definition.method\r\n\r\n; 静态成员查询 - 使用谓词过滤\r\n[\r\n  (field_declaration\r\n    (storage_class_specifier) @static.specifier\r\n    type: (_) @static.field.type\r\n    declarator: (field_identifier) @static.field.name\r\n    (#match? @static.specifier \"static\")) @definition.static.field\r\n  (function_definition\r\n    (storage_class_specifier) @static.specifier\r\n    declarator: (function_declarator\r\n      declarator: (field_identifier) @static.method.name)\r\n    (#match? @static.specifier \"static\")) @definition.static.method\r\n] @definition.static.member\r\n\r\n; 虚函数查询 - 使用谓词过滤\r\n(function_definition\r\n  declarator: (function_declarator\r\n    declarator: (field_identifier) @virtual.method.name)) @definition.virtual.method\r\n  (#match? @virtual.method.name \"virtualMethod|pureVirtualMethod\")\r\n\r\n; 纯虚函数查询 - 使用锚点确保精确匹配\r\n(field_declaration\r\n  declarator: (function_declarator\r\n    declarator: (field_identifier) @pure.virtual.method)) @definition.pure.virtual.method\r\n  (#match? @pure.virtual.method \"pureVirtualMethod\")\r\n\r\n; 模板成员查询 - 使用锚点和谓词\r\n(template_declaration\r\n  parameters: (template_parameter_list)\r\n  (function_definition\r\n    declarator: (function_declarator\r\n      declarator: (identifier) @template.method.name))) @definition.template.method","language":"scm","kind":"code"}]}