{
    "requests": [
        {
            "language": "c",
            "code": "// 结构体定义测试\r\nstruct Point {\r\n    int x;\r\n    int y;\r\n};\r\n\r\nstruct Person {\r\n    char name[50];\r\n    int age;\r\n    float height;\r\n};\r\n\r\n// 嵌套结构体\r\nstruct Rectangle {\r\n    struct Point top_left;\r\n    struct Point bottom_right;\r\n};",
            "query": "(struct_specifier\r\n  name: (type_identifier) @type.name\r\n  body: (field_declaration_list\r\n    (field_declaration\r\n      type: (_) @field.type\r\n      declarator: (field_identifier) @field.name)*)) @definition.struct"
        },
        {
            "language": "c",
            "code": "#include <stdio.h>\n\n// 嵌套结构体定义\nstruct Point {\n    int x;\n    int y;\n};\n\nstruct Rectangle {\n    struct Point top_left;\n    struct Point bottom_right;\n};\n\nstruct Circle {\n    struct Point center;\n    int radius;\n};\n\nint main() {\n    struct Rectangle rect;\n    rect.top_left.x = 0;\n    rect.top_left.y = 0;\n    rect.bottom_right.x = 10;\n    rect.bottom_right.y = 10;\n    \n    struct Circle circle;\n    circle.center.x = 5;\n    circle.center.y = 5;\n    circle.radius = 7;\n    \n    return 0;\n}",
            "query": "(struct_specifier\n  body: (field_declaration_list\n    (field_declaration\n      type: (struct_specifier)\n      declarator: (field_identifier) @nested.field.name))) @definition.nested.struct"
        },
        {
            "language": "c",
            "code": "// 前向声明测试\nstruct Node;  // 结构体前向声明\nunion Storage;  // 联合体前向声明\nenum State;    // 枚举前向声明\n\n// 完整定义\nstruct Node {\n    int data;\n    struct Node* next;\n};\n\nunion Storage {\n    int i;\n    float f;\n    char c;\n};\n\nenum State {\n    INIT,\n    RUNNING,\n    STOPPED\n};\n\nint main() {\n    struct Node* head = NULL;\n    return 0;\n}",
            "query": "(struct_specifier\n  name: (type_identifier) @forward.struct.name) @definition.forward.struct\n\n(union_specifier\n  name: (type_identifier) @forward.union.name) @definition.forward.union\n\n(enum_specifier\n  name: (type_identifier) @forward.enum.name) @definition.forward.enum"
        },
        {
            "language": "c",
            "code": "// 联合体定义测试\r\nunion Data {\r\n    int integer;\r\n    float floating;\r\n    char text[20];\r\n};\r\n\r\nunion Value {\r\n    long number;\r\n    double real;\r\n};",
            "query": "(union_specifier\r\n  name: (type_identifier) @type.name\r\n  body: (field_declaration_list\r\n    (field_declaration\r\n      type: (_) @field.type\r\n      declarator: (field_identifier) @field.name)*)) @definition.union"
        },
        {
            "language": "c",
            "code": "// 数组声明测试\nint numbers[10];\nchar buffer[256];\nfloat matrix[5][5];\ndouble values[20];\nchar text[100] = \"Hello\";\nint dynamic_array[];",
            "query": "(declaration\n  type: (_)\n  declarator: (array_declarator\n    declarator: (identifier) @array.name\n    size: (_)? @array.size)) @definition.array"
        },
        {
            "language": "c",
            "code": "// 枚举定义测试\nenum Color {\n    RED,\n    GREEN,\n    BLUE\n};\n\nenum Status {\n    SUCCESS = 0,\n    ERROR = 1,\n    PENDING = 2\n};\n\nenum Direction {\n    NORTH, SOUTH, EAST, WEST\n};",
            "query": "(enum_specifier\n  name: (type_identifier) @type.name\n  body: (enumerator_list\n    (enumerator\n      name: (identifier) @enum.constant)*)) @definition.enum"
        },
        {
            "language": "c",
            "code": "// 指针声明测试\nint* ptr;\nchar* string;\nvoid* generic_ptr;\nint** double_ptr;\nconst char* const_str;\nstruct Point* point_ptr;",
            "query": "(declaration\n  type: (_)\n  declarator: (pointer_declarator\n    declarator: (identifier) @pointer.name)) @definition.pointer"
        },
        {
            "language": "c",
            "code": "// 类型别名定义测试\ntypedef int Integer;\ntypedef char* String;\ntypedef struct Point Point;\ntypedef enum Color Color;\ntypedef union Data Data;\n\n// 函数指针类型别名\ntypedef int (*Comparator)(int a, int b);",
            "query": "(type_definition\n type: (_)\n  declarator: (type_identifier) @alias.name) @definition.type.alias"
        },
        {
            "language": "c",
            "code": "#include <stdio.h>\n\nstruct Point {\n    int x;\n    int y;\n};\n\nint main() {\n    struct Point p;\n    p.x = 10;\n    p.y = 20;\n    \n    // 成员访问测试\n    printf(\"X: %d, Y: %d\\n\", p.x, p.y);\n    \n    struct Point* ptr = &p;\n    ptr->x = 30;\n    ptr->y = 40;\n    \n    return 0;\n}",
            "query": "(field_expression\n  argument: (identifier) @object.name\n  field: (field_identifier) @field.name) @definition.member.access"
        },
        {
            "language": "c",
            "code": "// 数组声明测试\nint numbers[10];\nchar buffer[256];\nfloat matrix[5][5];\ndouble values[20];\nchar text[100] = \"Hello\";\nint dynamic_array[];",
            "query": "(declaration\n  type: (_)\n  declarator: (array_declarator\n    declarator: (identifier) @array.name\n    size: (_)? @array.size)) @definition.array"
        },
        {
            "language": "c",
            "code": "// 指针声明测试\nint* ptr;\nchar* string;\nvoid* generic_ptr;\nint** double_ptr;\nconst char* const_str;\nstruct Point* point_ptr;",
            "query": "(declaration\n  type: (_)\n  declarator: (pointer_declarator\n    declarator: (identifier) @pointer.name)) @definition.pointer"
        },
        {
            "language": "c",
            "code": "#include <stdio.h>\n\nstruct Point {\n    int x;\n    int y;\n};\n\nint main() {\n    struct Point p = {5, 10};\n    struct Point* ptr = &p;\n    \n    // 指针成员访问测试\n    printf(\"X: %d, Y: %d\\n\", ptr->x, ptr->y);\n    \n    // 修改通过指针访问的成员\n    ptr->x = 15;\n    ptr->y = 25;\n    \n    return 0;\n}",
            "query": "(field_expression\n  argument: (identifier) @pointer.name\n  field: (field_identifier) @field.name) @definition.pointer.member.access"
        },
        {
            "language": "c",
            "code": "#include <stdio.h>\n\nstruct Point {\n    int x;\n    int y;\n};\n\nint main() {\n    struct Point p;\n    p.x = 10;\n    p.y = 20;\n    \n    // 成员访问测试\n    printf(\"X: %d, Y: %d\\n\", p.x, p.y);\n    \n    struct Point* ptr = &p;\n    ptr->x = 30;\n    ptr->y = 40;\n    \n    return 0;\n}",
            "query": "(field_expression\n  argument: (identifier) @object.name\n  field: (field_identifier) @field.name) @definition.member.access"
        },
        {
            "language": "c",
            "code": "#include <stdio.h>\n\nint main() {\n    int arr[10];\n    int matrix[5][5];\n    \n    // 数组访问测试\n    arr[0] = 1;\n    arr[1] = 2;\n    arr[2] = arr[0] + arr[1];\n    \n    // 二维数组访问\n    matrix[0][0] = 10;\n    matrix[1][2] = 20;\n    \n    // 使用变量作为索引\n    int i = 3;\n    arr[i] = 30;\n    \n    return 0;\n}",
            "query": "(subscript_expression\n  argument: (identifier) @array.name\n  index: (_) @index) @definition.array.access"
        },
        {
            "language": "c",
            "code": "#include <stdio.h>\n\n// 嵌套结构体定义\nstruct Point {\n    int x;\n    int y;\n};\n\nstruct Rectangle {\n    struct Point top_left;\n    struct Point bottom_right;\n};\n\nstruct Circle {\n    struct Point center;\n    int radius;\n};\n\nint main() {\n    struct Rectangle rect;\n    rect.top_left.x = 0;\n    rect.top_left.y = 0;\n    rect.bottom_right.x = 10;\n    rect.bottom_right.y = 10;\n    \n    struct Circle circle;\n    circle.center.x = 5;\n    circle.center.y = 5;\n    circle.radius = 7;\n    \n    return 0;\n}",
            "query": "(struct_specifier\n  body: (field_declaration_list\n    (field_declaration\n      type: (struct_specifier)\n      declarator: (field_identifier) @nested.field.name))) @definition.nested.struct"
        },
        {
            "language": "c",
            "code": "#include <stdio.h>\n\nstruct Point {\n    int x;\n    int y;\n};\n\nint main() {\n    struct Point p = {5, 10};\n    struct Point* ptr = &p;\n    \n    // 指针成员访问测试\n    printf(\"X: %d, Y: %d\\n\", ptr->x, ptr->y);\n    \n    // 修改通过指针访问的成员\n    ptr->x = 15;\n    ptr->y = 25;\n    \n    return 0;\n}",
            "query": "(field_expression\n  argument: (identifier) @pointer.name\n  field: (field_identifier) @field.name) @definition.pointer.member.access"
        },
        {
            "language": "c",
            "code": "// 前向声明测试\nstruct Node;  // 结构体前向声明\nunion Storage;  // 联合体前向声明\nenum State;    // 枚举前向声明\n\n// 完整定义\nstruct Node {\n    int data;\n    struct Node* next;\n};\n\nunion Storage {\n    int i;\n    float f;\n    char c;\n};\n\nenum State {\n    INIT,\n    RUNNING,\n    STOPPED\n};\n\nint main() {\n    struct Node* head = NULL;\n    return 0;\n}",
            "query": "(struct_specifier\n  name: (type_identifier) @forward.struct.name) @definition.forward.struct\n\n(union_specifier\n  name: (type_identifier) @forward.union.name) @definition.forward.union\n\n(enum_specifier\n  name: (type_identifier) @forward.enum.name) @definition.forward.enum"
        },
        {
            "language": "c",
            "code": "#include <stdio.h>\n\nint main() {\n    int arr[10];\n    int matrix[5][5];\n    \n    // 数组访问测试\n    arr[0] = 1;\n    arr[1] = 2;\n    arr[2] = arr[0] + arr[1];\n    \n    // 二维数组访问\n    matrix[0][0] = 10;\n    matrix[1][2] = 20;\n    \n    // 使用变量作为索引\n    int i = 3;\n    arr[i] = 30;\n    \n    return 0;\n}",
            "query": "(subscript_expression\n  argument: (identifier) @array.name\n  index: (_) @index) @definition.array.access"
        }
    ]
}