{
  "testId": "variables-005",
  "request": {
    "language": "c",
    "code": "#include <stdio.h>\n#include <stdlib.h>\n\n// 全局变量\nint global_counter = 0;\nstatic const int MAX_SIZE = 1000;\nextern volatile bool system_ready;\n\n// 函数内变量\nvoid process_data() {\n    // 基本变量\n    int local_var;\n    double price = 99.99;\n    char buffer[256] = {0};\n    \n    // 静态变量\n    static int call_count = 0;\n    static char* last_message = NULL;\n    \n    // 寄存器变量\n    register int i;\n    register char c = 'A';\n    \n    // 赋值操作\n    local_var = 42;\n    price += 10.0;\n    call_count++;\n    \n    // 指针操作\n    int* ptr = malloc(sizeof(int));\n    *ptr = 100;\n    ptr = &local_var;\n}\n\nint main() {\n    // 多种变量声明和赋值\n    int a = 1, b = 2, c;\n    const int limit = 100;\n    volatile bool flag = true;\n    \n    c = a + b;\n    flag = false;\n    \n    process_data();\n    \n    return 0;\n}",
    "query": "(declaration\n  type: (_)\n  declarator: (identifier) @name.definition.variable) @definition.variable\n\n(declaration\n  (storage_class_specifier)\n  type: (_)\n  declarator: (identifier) @name.definition.variable) @definition.variable\n\n(declaration\n  type: (_)\n  declarator: (init_declarator\n    declarator: (identifier) @name.definition.variable)) @definition.variable\n\n(assignment_expression\n  left: (identifier) @name.definition.assignment) @definition.assignment"
  },
  "response": {
    "success": true,
    "data": [
      {
        "captureName": "definition.variable",
        "type": "declaration",
        "text": "int global_counter = 0;",
        "startPosition": {
          "row": 4,
          "column": 0
        },
        "endPosition": {
          "row": 4,
          "column": 23
        }
      },
      {
        "captureName": "name.definition.variable",
        "type": "identifier",
        "text": "global_counter",
        "startPosition": {
          "row": 4,
          "column": 4
        },
        "endPosition": {
          "row": 4,
          "column": 18
        }
      },
      {
        "captureName": "definition.variable",
        "type": "declaration",
        "text": "static const int MAX_SIZE = 1000;",
        "startPosition": {
          "row": 5,
          "column": 0
        },
        "endPosition": {
          "row": 5,
          "column": 33
        }
      },
      {
        "captureName": "name.definition.variable",
        "type": "identifier",
        "text": "MAX_SIZE",
        "startPosition": {
          "row": 5,
          "column": 17
        },
        "endPosition": {
          "row": 5,
          "column": 25
        }
      },
      {
        "captureName": "definition.variable",
        "type": "declaration",
        "text": "extern volatile bool system_ready;",
        "startPosition": {
          "row": 6,
          "column": 0
        },
        "endPosition": {
          "row": 6,
          "column": 34
        }
      },
      {
        "captureName": "name.definition.variable",
        "type": "identifier",
        "text": "system_ready",
        "startPosition": {
          "row": 6,
          "column": 21
        },
        "endPosition": {
          "row": 6,
          "column": 33
        }
      },
      {
        "captureName": "definition.variable",
        "type": "declaration",
        "text": "extern volatile bool system_ready;",
        "startPosition": {
          "row": 6,
          "column": 0
        },
        "endPosition": {
          "row": 6,
          "column": 34
        }
      },
      {
        "captureName": "name.definition.variable",
        "type": "identifier",
        "text": "system_ready",
        "startPosition": {
          "row": 6,
          "column": 21
        },
        "endPosition": {
          "row": 6,
          "column": 33
        }
      },
      {
        "captureName": "definition.variable",
        "type": "declaration",
        "text": "int local_var;",
        "startPosition": {
          "row": 11,
          "column": 4
        },
        "endPosition": {
          "row": 11,
          "column": 18
        }
      },
      {
        "captureName": "name.definition.variable",
        "type": "identifier",
        "text": "local_var",
        "startPosition": {
          "row": 11,
          "column": 8
        },
        "endPosition": {
          "row": 11,
          "column": 17
        }
      },
      {
        "captureName": "definition.variable",
        "type": "declaration",
        "text": "double price = 99.99;",
        "startPosition": {
          "row": 12,
          "column": 4
        },
        "endPosition": {
          "row": 12,
          "column": 25
        }
      },
      {
        "captureName": "name.definition.variable",
        "type": "identifier",
        "text": "price",
        "startPosition": {
          "row": 12,
          "column": 11
        },
        "endPosition": {
          "row": 12,
          "column": 16
        }
      },
      {
        "captureName": "definition.variable",
        "type": "declaration",
        "text": "static int call_count = 0;",
        "startPosition": {
          "row": 16,
          "column": 4
        },
        "endPosition": {
          "row": 16,
          "column": 30
        }
      },
      {
        "captureName": "name.definition.variable",
        "type": "identifier",
        "text": "call_count",
        "startPosition": {
          "row": 16,
          "column": 15
        },
        "endPosition": {
          "row": 16,
          "column": 25
        }
      },
      {
        "captureName": "definition.variable",
        "type": "declaration",
        "text": "register int i;",
        "startPosition": {
          "row": 20,
          "column": 4
        },
        "endPosition": {
          "row": 20,
          "column": 19
        }
      },
      {
        "captureName": "name.definition.variable",
        "type": "identifier",
        "text": "i",
        "startPosition": {
          "row": 20,
          "column": 17
        },
        "endPosition": {
          "row": 20,
          "column": 18
        }
      },
      {
        "captureName": "definition.variable",
        "type": "declaration",
        "text": "register int i;",
        "startPosition": {
          "row": 20,
          "column": 4
        },
        "endPosition": {
          "row": 20,
          "column": 19
        }
      },
      {
        "captureName": "name.definition.variable",
        "type": "identifier",
        "text": "i",
        "startPosition": {
          "row": 20,
          "column": 17
        },
        "endPosition": {
          "row": 20,
          "column": 18
        }
      },
      {
        "captureName": "definition.variable",
        "type": "declaration",
        "text": "register char c = 'A';",
        "startPosition": {
          "row": 21,
          "column": 4
        },
        "endPosition": {
          "row": 21,
          "column": 26
        }
      },
      {
        "captureName": "name.definition.variable",
        "type": "identifier",
        "text": "c",
        "startPosition": {
          "row": 21,
          "column": 18
        },
        "endPosition": {
          "row": 21,
          "column": 19
        }
      },
      {
        "captureName": "definition.assignment",
        "type": "assignment_expression",
        "text": "local_var = 42",
        "startPosition": {
          "row": 24,
          "column": 4
        },
        "endPosition": {
          "row": 24,
          "column": 18
        }
      },
      {
        "captureName": "name.definition.assignment",
        "type": "identifier",
        "text": "local_var",
        "startPosition": {
          "row": 24,
          "column": 4
        },
        "endPosition": {
          "row": 24,
          "column": 13
        }
      },
      {
        "captureName": "definition.assignment",
        "type": "assignment_expression",
        "text": "price += 10.0",
        "startPosition": {
          "row": 25,
          "column": 4
        },
        "endPosition": {
          "row": 25,
          "column": 17
        }
      },
      {
        "captureName": "name.definition.assignment",
        "type": "identifier",
        "text": "price",
        "startPosition": {
          "row": 25,
          "column": 4
        },
        "endPosition": {
          "row": 25,
          "column": 9
        }
      },
      {
        "captureName": "definition.assignment",
        "type": "assignment_expression",
        "text": "ptr = &local_var",
        "startPosition": {
          "row": 31,
          "column": 4
        },
        "endPosition": {
          "row": 31,
          "column": 20
        }
      },
      {
        "captureName": "name.definition.assignment",
        "type": "identifier",
        "text": "ptr",
        "startPosition": {
          "row": 31,
          "column": 4
        },
        "endPosition": {
          "row": 31,
          "column": 7
        }
      },
      {
        "captureName": "definition.variable",
        "type": "declaration",
        "text": "int a = 1, b = 2, c;",
        "startPosition": {
          "row": 36,
          "column": 4
        },
        "endPosition": {
          "row": 36,
          "column": 24
        }
      },
      {
        "captureName": "name.definition.variable",
        "type": "identifier",
        "text": "a",
        "startPosition": {
          "row": 36,
          "column": 8
        },
        "endPosition": {
          "row": 36,
          "column": 9
        }
      },
      {
        "captureName": "definition.variable",
        "type": "declaration",
        "text": "int a = 1, b = 2, c;",
        "startPosition": {
          "row": 36,
          "column": 4
        },
        "endPosition": {
          "row": 36,
          "column": 24
        }
      },
      {
        "captureName": "name.definition.variable",
        "type": "identifier",
        "text": "b",
        "startPosition": {
          "row": 36,
          "column": 15
        },
        "endPosition": {
          "row": 36,
          "column": 16
        }
      },
      {
        "captureName": "definition.variable",
        "type": "declaration",
        "text": "int a = 1, b = 2, c;",
        "startPosition": {
          "row": 36,
          "column": 4
        },
        "endPosition": {
          "row": 36,
          "column": 24
        }
      },
      {
        "captureName": "name.definition.variable",
        "type": "identifier",
        "text": "c",
        "startPosition": {
          "row": 36,
          "column": 22
        },
        "endPosition": {
          "row": 36,
          "column": 23
        }
      },
      {
        "captureName": "definition.variable",
        "type": "declaration",
        "text": "const int limit = 100;",
        "startPosition": {
          "row": 37,
          "column": 4
        },
        "endPosition": {
          "row": 37,
          "column": 26
        }
      },
      {
        "captureName": "name.definition.variable",
        "type": "identifier",
        "text": "limit",
        "startPosition": {
          "row": 37,
          "column": 14
        },
        "endPosition": {
          "row": 37,
          "column": 19
        }
      },
      {
        "captureName": "definition.variable",
        "type": "declaration",
        "text": "volatile bool flag = true;",
        "startPosition": {
          "row": 38,
          "column": 4
        },
        "endPosition": {
          "row": 38,
          "column": 30
        }
      },
      {
        "captureName": "name.definition.variable",
        "type": "identifier",
        "text": "flag",
        "startPosition": {
          "row": 38,
          "column": 18
        },
        "endPosition": {
          "row": 38,
          "column": 22
        }
      },
      {
        "captureName": "definition.assignment",
        "type": "assignment_expression",
        "text": "c = a + b",
        "startPosition": {
          "row": 40,
          "column": 4
        },
        "endPosition": {
          "row": 40,
          "column": 13
        }
      },
      {
        "captureName": "name.definition.assignment",
        "type": "identifier",
        "text": "c",
        "startPosition": {
          "row": 40,
          "column": 4
        },
        "endPosition": {
          "row": 40,
          "column": 5
        }
      },
      {
        "captureName": "definition.assignment",
        "type": "assignment_expression",
        "text": "flag = false",
        "startPosition": {
          "row": 41,
          "column": 4
        },
        "endPosition": {
          "row": 41,
          "column": 16
        }
      },
      {
        "captureName": "name.definition.assignment",
        "type": "identifier",
        "text": "flag",
        "startPosition": {
          "row": 41,
          "column": 4
        },
        "endPosition": {
          "row": 41,
          "column": 8
        }
      }
    ],
    "errors": [],
    "timestamp": "2025-11-20T00:47:45.437Z"
  },
  "timestamp": "2025-11-20T00:47:45.439Z"
}