分段后结构混乱，例如：
      });

      return data.data.map((item: any) => {
        // 确保向量数据是纯数字数组
        const embeddingArray = Array.isArray(item.embedding)
          ? item.embedding.map((val: any) => {
              // 转换所有值为数字类型
              const num = Number(val);
              if (isNaN(num)) {
                this.logger.warn('Invalid embedding value found, replacing with 0', {
                  originalValue: val,
                  type: typeof val
                });
                return 0;
              }
              return num;
            })

检查相关的实现逻辑